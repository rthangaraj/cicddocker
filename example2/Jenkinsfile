pipeline {
  agent (any) 
  environment {
    name = "abc"
    loc = "dba"

  }

  stages {
    stage ("Checkout") {
      steps {
        checkout scm 

      }
	  }
	  
	  stage ("Pushing the docker Image") {
      steps {
	  script{
        docker.withRegistry('https://index.docker.io/v1/', 'dockerhubcred') {
          def app = docker.build("rameshthangaraj/pytest-image", "./example2/")
          app.push()

        }
        }
      }
    }

}

}
